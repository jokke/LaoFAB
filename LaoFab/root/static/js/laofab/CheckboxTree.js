dojo.provide("laofab.CheckboxTreeNode");dojo.require("dijit.Tree");dojo.require("dijit.form.CheckBox");dojo.declare("laofab.CheckboxTreeNode",[dijit._TreeNode],{templateString:"<div class=\"dijitTreeNode\" waiRole=\"presentation\"\n\t><div dojoAttachPoint=\"rowNode\" class=\"dijitTreeRow\" waiRole=\"presentation\"\n\t\t><img src=\"${_blankGif}\" alt=\"\" dojoAttachPoint=\"expandoNode\" class=\"dijitTreeExpando\" waiRole=\"presentation\"\n\t\t><span dojoAttachPoint=\"expandoNodeText\" class=\"dijitExpandoText\" waiRole=\"presentation\"\n\t\t></span\n\t\t><span dojoAttachPoint=\"contentNode\" dojoAttachEvent=\"onmouseenter:_onMouseEnter, onmouseleave:_onMouseLeave\"\n\t\t\tclass=\"dijitTreeContent\" waiRole=\"presentation\">\n\t\t\t<span name=\"folder\" dojoType=\"dijit.form.CheckBox\"></span><img src=\"${_blankGif}\" alt=\"\" dojoAttachPoint=\"iconNode\" class=\"dijitTreeIcon\" waiRole=\"presentation\"\n\t\t\t><span dojoAttachPoint=\"labelNode\" class=\"dijitTreeLabel\" wairole=\"treeitem\" tabindex=\"-1\" waiState=\"selected-false\" dojoAttachEvent=\"onfocus:_onNodeFocus\"></span>\n\t\t</span\n\t></div>\n\t<div dojoAttachPoint=\"containerNode\" class=\"dijitTreeContainer\" waiRole=\"presentation\" style=\"display: none;\"></div>\n</div>\n",widgetsInTemplate:true,getNodeCheckbox:function(){if(this._supportingWidgets.length>0){return this._supportingWidgets[0];}return null;},setNodeCheckboxValue:function(_1){this.getNodeCheckbox().attr("checked",_1);},postCreate:function(){this.inherited(arguments);if(this.tree.model.store.isItem(this.item)){var _2=this.tree.model.store.getValue(this.item,"value");this.getNodeCheckbox().setAttribute("value",_2);var _3=this.tree.model.store.getValue(this.item,"expand");var _4=(_3===true||(_3.toLowerCase&&_3.toLowerCase()==="true"));var _5=this.tree.model.store.getValue(this.item,"checked");var _6=(_5===true||(_5.toLowerCase&&_5.toLowerCase()==="true"));if(_4===true&&_6!==true&&this.isExpandable&&!this.isExpanded){this.tree._expandNode(this);}else{this.tree._collapseNode(this);}if(!this.tree.model.store.hasAttribute(this.item,"checked")){this.tree.model.store.setValue(this.item,"checked",false);}else{var _7=this.tree.model.store.getValue(this.item,"checked");var _8=(_7===true||(_7.toLowerCase&&_7.toLowerCase()==="true"));this.setNodeCheckboxValue(_8);}}dojo.connect(this.getNodeCheckbox(),"onChange",this,function(){this.tree.model.store.setValue(this.item,"checked",(this.getNodeCheckbox().attr("value")==false)?false:true);});},getCheckedNodesList:function(_9){if(this.getNodeCheckbox().isChecked()){_9.push(this.item.label);}this.getChildren().forEach(getCheckedNodesList(_9),this);}});dojo.provide("laofab.CheckboxTree");dojo.declare("laofab.CheckboxTree",[dijit.Tree],{_createTreeNode:function(_a){return new laofab.CheckboxTreeNode(_a);},getIconClass:function(_b,_c){return (!_b||this.model.mayHaveChildren(_b))?(_c?"dijitFolderOpened":"dijitFolderClosed"):"dijitFolderClosed";},_onItemChange:function(_d){this.inherited(arguments);var _e=this.model,_f=_e.getIdentity(_d),_10=this._itemNodeMap[_f];if(_10){var _11=this.model.store.getValue(_d,"checked");_10.setNodeCheckboxValue(_11);}}});dojo.provide("laofab.CheckboxTreeStoreModel");dojo.declare("laofab.CheckboxTreeStoreModel",[dijit.tree.TreeStoreModel],{onChange:function(_12){var _13=this.store;var _14=_13.getValue(_12,"checked");this.getChildren(_12,function(_15){dojo.forEach(_15,function(_16){_13.setValue(_16,"checked",_14);});});}});dojo.provide("laofab.CheckboxForestStoreModel");dojo.declare("laofab.CheckboxForestStoreModel",[dijit.tree.ForestStoreModel],{onChange:function(_17){var _18=this.store;var _19=_18.getValue(_17,"checked");}});